// SPDX-License-Identifier: UNLICENSED
// This is licensed under the Cryptographic Open Software License 1.0
pragma solidity ^0.8.28;

import {Test} from "forge-std/Test.sol";
import "../../src/base/Constants.sol";
import {Verifier} from "../../src/verifier/Verifier.pre.sol";

contract VerifierTest is Test {
    function verify(
        bytes calldata result,
        bytes calldata plan,
        bytes calldata proof,
        uint256[] memory tableLengths,
        uint256[] memory commitments
    ) public view {
        Verifier.__verify({
            __result: result,
            __plan: plan,
            __proof: proof,
            __tableLengths: tableLengths,
            __commitments: commitments
        });
    }

    function testSimpleFull() public view {
        uint256[] memory tableLengths = new uint256[](1);
        tableLengths[0] = 6;
        uint256[] memory commitments = new uint256[](4);
        commitments[0] = 10330259091102222580680469239495014349163118537637164875615751892418606990939;
        commitments[1] = 11920476268597659993223945595713248355766624440856258163660132291159882440306;
        commitments[2] = 11994260765248910561540716452031502208136256599213361935879450273410509855704;
        commitments[3] = 13760418268827664034425846360177624835399216842325030254024970295997593510876;
        Verifier.__verify({
            __result: hex"00000000000000010000000000000001620000000000000000000000000200000000000000000000000000000003",
            __plan: hex"0000000000000001000000000000000f6e616d6573706163652e7461626c6500000000000000020000000000000000000000000000000162000000000000000000000000000000016100000000000000000000000000000002000000000000000000000001000000010000000000000000000000050000000000000001000000000000000000000000",
            __proof: hex"0000000000000006000000000000000200000000000000010000000000000002000000000000000000000000000000000000000000000005000000000000000527a607595971e4f8531109d6bcf114838faac36652aa81d86d51f087cd08799c1095fa761ceaceb796068f4b8174492ede1e88c2f4aafee493331c267284be330078dfd5227feba93faa9a0c9c38432d6c169909d2546f8cef0b7a2108d44db71d518c19207b5ee92cca5cfe09ec5aca67af638b4205a7b650ccb9b9ecd6dd81236cd1dd5ae57dd08a8b09bd6bd3397fe4b58aa1638c554b8054dcb2d4d0297e12a7e3d2a6d11cf4e66979ea5458d24f66ba7866c43b933fd2135c2a761990140bdc85c05dbcecf925172be410507ac96a493aa04fa52d29504ddaf4f4bc829e0288ca87e7e7c58d57d7bcbfa436efd90d3a01d7d94ace8d356bf92565a23b941f59f850aaf9a8182cee53e049ce3c9b8ca6b762f378a225a91bdcd173f650ef168588dc53d617c0a35879ca5b350f11a1ac75cedb4d9cc275c78382e3b980a90000000000000000000000000000000c2b1b6979ac224227ec6cf6fdbcc27b392fea5e6e0f8dc8b00725ade7d19b7378025c6667c5a7b3f16264dc4a1012920ca5a1fe3db0873b305e0fb42b0801e51b02ec7e916f67aa10697e726eb4ac4b1752a78b9cb9a46cb0deac93811662a76e00000000000000000000000000000000000000000000000000000000000000001595c6968bd5f5a39178ac508d83297cbf21f050135f389a5424962e21b51bc32274559b01eb526659e0f89e55c6f7a09d8b6ff03848aa76600f21fc5d1118d41d13440d203c30ea37d86322ddea50c841aaa6e7ddeb354c6e0cd100178c66e908248e82b08c95887644012e3ea083f29a1406d028c6979117b5cd8bfcb2ec0d1faa67938c1f4a5435b6e3ee4a594a2f19676127eb6875875aa6454e554e8823139f1cd6d3f407886e69ce8a0e252e19020aa7c094cc13c6802cbc8d6af2c5281436e6014f731cdec6df5e9e014f40ba8a17c767a3052e6834f52430a6c6a0f312a4fd47bc7369f7802f33cb1d9b873f021bcee2cc28ca359f5a034a72249bae00000000000000000000000000000002285ec6719e3a17a295f04e867125d3a9c8444237cdd74119b4788c86dffd2e5e28da55629c6c442d45922d8abfce9ec7ef9b02080fe7c716ef4ad3a7af9c2ee700000000000000050cf0a48810f71dd136cc4e8b6e68b67b3e4eb0912037a6940a561b15d046fc0b045783ef732a57c039257ead43d9a4303768aa92c5f3c2af544f1bcd56a79e3b100daae5c009222ef481004bc9fc2f354dfd6f8f15e6750bf85d3152f7263f160396ab64ff961358cb457f9b12c5aa6750003a4907622e33c2593330219b03360bfc3e2ecb55a8d0f45944e10084ad93a11c36abbbee549bd859264b7827021400000000000000020ce2b470238a27f5137f43a6bdec18972aa2dafe838cb7325717d839db237b36169f0555ac07da3ef801bba7a0c219a5d34b471ec3f304d3d0b6807a7a3532c70aefd79ffa9913e4007b7fef66f5ba7720623cbb8c45c48d691e5e42c968aa9f1ccce5518c25dd90fdad32f31442720e54b4ab682ee2ec50eaddd1ffd776779500000000000000030c551b9670de07616641063a96485a787a6948379e7f01cdcafe7afb9573c4172455e33185acbb64193400a8242218b652b36048542fafcacbdead9a7068e67c1244a6be9ab6d7ff311a5957ab45192cd151ff0778f12debbbbe7f7797d72e2017c41b327067942577d7bffe01b8c02108e7214547112972488708af34db36b123c03b46472c352b93bec6d190d4f9b06fc9c1ac92360bde877f8b3b8488c4480a41a702f9309fdbc94108f78c1193e3741f5b67384d9cc813dbbefe52b531f1236057242239b07daf77c6ee2012531b069e704aee1cba36426bd3769c871a1c1f55ea2940817ae4c9393d31b5841796c1dff1f476aa8b2a774cc6edc6426f5a0a07bbf670c7916b94070045a8a3dd0caae317874399db89460a58dd8e148ac00a2d34da38230bac421dbd4030414d77f3ca2f060390354b6dc04e7b75e4226301b21c66eec6fbfa8b5a49e69111e23da66c722c3b53d32c93dbe09dbee58c4401db3a0ffcecd00c5d965e0a47596ab9b6fa3e5b5ab09e1cd2d8c7e19cc8f9b7207f71be8604bae775efc4eb9dd7a0935d1888142c0e2ab19f2d704ec0ed507d0f7c69a01d121bfdfe00ac638cb38254e202cb23c471e2ef5cd886f22dff3d8e054626a78289086fbc1edf6f127d53f94c9621e708a053497b2cd13af6eb305c",
            __tableLengths: tableLengths,
            __commitments: commitments
        });
    }
}
