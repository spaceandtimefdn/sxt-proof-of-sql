// SPDX-License-Identifier: UNLICENSED
// This is licensed under the Cryptographic Open Software License 1.0
pragma solidity ^0.8.28;

import {Test} from "forge-std/Test.sol";
import "../../src/base/Constants.sol";
import {Verifier} from "../../src/verifier/Verifier.pre.sol";

contract VerifierTest is Test {
    function verify(
        bytes calldata result,
        bytes calldata plan,
        bytes calldata proof,
        uint256[] memory tableLengths,
        uint256[] memory commitments
    ) public view {
        Verifier.__verify({
            __result: result,
            __plan: plan,
            __proof: proof,
            __tableLengths: tableLengths,
            __commitments: commitments
        });
    }

    function testSimpleFull() public view {
        uint256[] memory tableLengths = new uint256[](1);
        tableLengths[0] = 6;
        uint256[] memory commitments = new uint256[](4);
        commitments[0] = 10330259091102222580680469239495014349163118537637164875615751892418606990939;
        commitments[1] = 11920476268597659993223945595713248355766624440856258163660132291159882440306;
        commitments[2] = 11994260765248910561540716452031502208136256599213361935879450273410509855704;
        commitments[3] = 13760418268827664034425846360177624835399216842325030254024970295997593510876;
        Verifier.__verify({
            __result: hex"00000000000000010000000000000001620000000000000000000000000200000000000000000000000000000003",
            __plan: hex"0000000000000001000000000000000f6e616d6573706163652e7461626c650000000000000002000000000000000000000000000000016200000005000000000000000000000000000000016100000005000000000000000100000000000000016200000000000000000000000000000002000000000000000000000001000000010000000000000000000000050000000000000001000000000000000000000000",
            __proof: hex"0000000000000006000000000000000200000000000000010000000000000002000000000000000000000000000000000000000000000005000000000000000527a607595971e4f8531109d6bcf114838faac36652aa81d86d51f087cd08799c1095fa761ceaceb796068f4b8174492ede1e88c2f4aafee493331c267284be330078dfd5227feba93faa9a0c9c38432d6c169909d2546f8cef0b7a2108d44db71d518c19207b5ee92cca5cfe09ec5aca67af638b4205a7b650ccb9b9ecd6dd81236cd1dd5ae57dd08a8b09bd6bd3397fe4b58aa1638c554b8054dcb2d4d0297e12a7e3d2a6d11cf4e66979ea5458d24f66ba7866c43b933fd2135c2a76199014091d759af5b996768333382724de5535a02bc1f96ce4b41e5f2ce66697e2c8e01771b19a3c47579debddff1916a36071f94fbfb06bd02307450e9f289657c02a1ac6eb0ea8ed65a3af1ed1cbcd6134884d21bf1859a31d3bfc848744f897f3f1305054f72f9545d499c8f7fab26a75ca6e87108190e01714b7a672c953f187800000000000000000000000000000000c212d94cee06b47ad9874ff26fbc0b40c7f2c2cae93fa67dc26673cc7a95bc7af2ab74244d7ac408b45fb848278e1d7f415606fca15b1ca62c49e4f8e9d0bd82314e3c5d20a4bb81a923007c38e6024b9bbdb341849c6aee39cbe5ed1999860300000000000000000000000000000000000000000000000000000000000000000087cdfed584288b08c1213fe3bce00963e6fa01112603b431c8d7ac0b738554e2b5084036080eb1f6c105e2b81cf39505e785b6dbc8b9e46b39750d7a41139bb19384b772d63fd2b32b3ffbe9594e224cee391a1f64bd12a40276aa01b440cc421f59ea9d35acaeb1bba181490bc69ec112895f1c460edab40ca4c60356f946f1db38c3c094df11ff2f57be7442cce5971748c92cccd999d436f14e1e8219e911f8dbed542a8418862f739372f173f94607a3c914f087339f961853bd8ca8e211a203f1c36470e97ac77aaecb143d0f61d04004f5f546345ef34167a58380e1021abedca4fe2773ce9cc45ee1bd4a9ed25fcd8ac2acb9ddc3975660bb25656dc000000000000000000000000000000021a479ed73d372e1945de210632cac9810ba64fb82ef8e934a30734faeff1d8860aa237b24ea6097754b0dbb58f0a5e2f811b4327c24e5f20ebb1b893a324747200000000000000050cfc6aa4d2904fde0571806ff33f38aaebbd9ca2769e14a071928ae02619e04311b5be4fd934c8224aab92ddda1abd3d018296314ecd5efa5106985db4bff1342d865034876f8b349cb4777758554215a3b2226b848169cc1a368115f2f1e07d17eb059d43e658adf638d95793b8c517a6a02af046c5da308656854913ac9de8093e7556460b68b2e144fb76c9ee610e97fa0ba390ec81ce9cfa36a232dacba8000000000000000225209a4fd8facca076f62b3439c7b6a5e962285be1208d1328e7439636becb9f09d865c53d1cd2ca7f2038bb6df5f9507671975a37579aa5ccde73e080da15072083b7d5f9a8113f48956a2db6ad27ef8fb27cd141690b5263449d4d06b423141d6eff217adfb0abeb486239272c8fd8c306a01c47009319a1207bfff47747660000000000000003275364cce11bb0f2064f74acc979fd3496af5c427c643cbcf0731406e14688181da71bdf437948ad10067bddcae6574440aea729ae6d35b2f4ed7ee910ff033c28a3d502698194f200c5d8b3ed3f991521defc56235afd6a6736a58d61bb7f0a0b1a6127e360c38aa2def6d7a90450ef7e8dce8bc5db2e228322981a1b73898a130652f7121edbd926d3003c8372e1da67aebb2a2675c9defafafb6b2b76fbb6256e9baabf5375ea6363874c2f2b7d26ff5bbac2e83add8b126b31ece9857b011db01605a60f90e2236401f2f9e707ac59daa80cf289e32abe84c77e2dbeaebb07bf3cb455b10d7d216c78b9de07c40a52af3173058b2102271e802e74b1bb5b1dd92f7a8de38e7dce43d5eac69f68f4e0c5eae4218a0bbfa99dd49f56077e3f2d3a348e3358a52a948e00fb6afcae5d61f25dd13bf2a74a7116dabb224691b32387ae26dff2aef8612c544a11fc7355df0e99cbb242d61960e9e5e0f4b90b3e0a032dbc4f3735fac06cb14b0ca76591506e130d4e15354e74c2a761a1ada0b92e459c42bea6b733eca0e3cab12412b937051ce3277721b366cce95be9b0decf2aa3c24a56e884a9023649ae1dbe08a03be9c322b784c9196d3657c71a11edbb280fcd7da12fc217b468c51b8d54d5915d68dc364986988ede12fc5be8bff0b7",
            __tableLengths: tableLengths,
            __commitments: commitments
        });
    }
}
